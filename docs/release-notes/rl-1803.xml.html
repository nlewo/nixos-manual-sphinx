
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Release 18.03 (“Impala”, 2018/04/04) &#8212; NixOS Manual  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="release-18-03-impala-2018-04-04">
<span id="sec-release-18-03"></span><h1>Release 18.03 (“Impala”, 2018/04/04)<a class="headerlink" href="#release-18-03-impala-2018-04-04" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="highlights">
<span id="sec-release-18-03-highlights"></span><h1>Highlights<a class="headerlink" href="#highlights" title="Permalink to this headline">¶</a></h1>
<p>In addition to numerous new and upgraded packages, this release has the
following highlights:</p>
<ul class="simple">
<li>End of support is planned for end of October 2018, handing over to 18.09.</li>
<li>Platform support: x86_64-linux and x86_64-darwin since release time (the
latter isn’t NixOS, really). Binaries for aarch64-linux are available, but
no channel exists yet, as it’s waiting for some test fixes, etc.</li>
<li>Nix now defaults to 2.0; see its
<a class="reference external" href="https://nixos.org/nix/manual/#ssec-relnotes-2.0">release
notes</a>.</li>
<li>Core version changes: linux: 4.9 -&gt; 4.14, glibc: 2.25 -&gt; 2.26, gcc: 6 -&gt;
7, systemd: 234 -&gt; 237.</li>
<li>Desktop version changes: gnome: 3.24 -&gt; 3.26, (KDE) plasma-desktop: 5.10
-&gt; 5.12.</li>
<li>MariaDB 10.2, updated from 10.1, is now the default MySQL implementation.
While upgrading a few changes have been made to the infrastructure
involved:<ul>
<li><code class="docutils literal notranslate"><span class="pre">libmysql</span></code> has been deprecated, please use
<code class="docutils literal notranslate"><span class="pre">mysql.connector-c</span></code> instead, a compatibility passthru
has been added to the MySQL packages.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">mysql57</span></code> package has a new
<code class="docutils literal notranslate"><span class="pre">static</span></code> output containing the static libraries
including <code class="docutils literal notranslate"><span class="pre">libmysqld.a</span></code></li>
</ul>
</li>
<li>PHP now defaults to PHP 7.2, updated from 7.1.</li>
</ul>
</div>
<div class="section" id="new-services">
<span id="sec-release-18-03-new-services"></span><h1>New Services<a class="headerlink" href="#new-services" title="Permalink to this headline">¶</a></h1>
<p>The following new services were added since the last release:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">./config/krb5/default.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./hardware/digitalbitbox.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./misc/label.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./programs/ccache.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./programs/criu.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./programs/digitalbitbox/default.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./programs/less.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./programs/npm.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./programs/plotinus.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./programs/rootston.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./programs/systemtap.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./programs/sway.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./programs/udevil.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./programs/way-cooler.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./programs/yabar.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./programs/zsh/zsh-autoenv.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/backup/borgbackup.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/backup/crashplan-small-business.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/desktops/dleyna-renderer.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/desktops/dleyna-server.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/desktops/pipewire.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/desktops/gnome3/chrome-gnome-shell.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/desktops/gnome3/tracker-miners.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/hardware/fwupd.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/hardware/interception-tools.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/hardware/u2f.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/hardware/usbmuxd.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/mail/clamsmtp.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/mail/dkimproxy-out.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/mail/pfix-srsd.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/misc/gitea.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/misc/home-assistant.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/misc/ihaskell.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/misc/logkeys.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/misc/novacomd.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/misc/osrm.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/misc/plexpy.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/misc/pykms.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/misc/tzupdate.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/monitoring/fusion-inventory.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/monitoring/prometheus/exporters.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/network-filesystems/beegfs.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/network-filesystems/davfs2.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/network-filesystems/openafs/client.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/network-filesystems/openafs/server.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/network-filesystems/ceph.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/networking/aria2.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/networking/monero.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/networking/nghttpx/default.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/networking/nixops-dns.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/networking/rxe.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/networking/stunnel.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/web-apps/matomo.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/web-apps/restya-board.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/web-servers/mighttpd2.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./services/x11/fractalart.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./system/boot/binfmt.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./system/boot/grow-partition.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./tasks/filesystems/ecryptfs.nix</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">./virtualisation/hyperv-guest.nix</span></code></li>
</ul>
</div>
<div class="section" id="backward-incompatibilities">
<span id="sec-release-18-03-incompatibilities"></span><h1>Backward Incompatibilities<a class="headerlink" href="#backward-incompatibilities" title="Permalink to this headline">¶</a></h1>
<p>When upgrading from a previous release, please be aware of the following
incompatible changes:</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">sound.enable</span></code> now defaults to false.</p>
</li>
<li><p class="first">Dollar signs in options under are passed
verbatim to Postfix, which will interpret them as the beginning of a
parameter expression. This was already true for string-valued options in
the previous release, but not for list-valued options. If you need to pass
literal dollar signs through Postfix, double them.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">postage</span></code> package (for web-based PostgreSQL
administration) has been renamed to <code class="docutils literal notranslate"><span class="pre">pgmanage</span></code>. The
corresponding module has also been renamed. To migrate please rename all
options to
.</p>
</li>
<li><p class="first">Package attributes starting with a digit have been prefixed with an
underscore sign. This is to avoid quoting in the configuration and other
issues with command-line tools like <code class="docutils literal notranslate"><span class="pre">nix-env</span></code>. The change
affects the following packages:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">2048-in-terminal</span></code> →
<code class="docutils literal notranslate"><span class="pre">_2048-in-terminal</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">90secondportraits</span></code> →
<code class="docutils literal notranslate"><span class="pre">_90secondportraits</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">2bwm</span></code> → <code class="docutils literal notranslate"><span class="pre">_2bwm</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">389-ds-base</span></code> → <code class="docutils literal notranslate"><span class="pre">_389-ds-base</span></code></li>
</ul>
</li>
<li><p class="first"><em>The OpenSSH service no longer enables support for
DSA keys by default, which could cause a system lock out. Update your keys
or, unfavorably, re-enable DSA support manually.</em></p>
<p>DSA support was
<a class="reference external" href="https://www.openssh.com/legacy.html">deprecated in
OpenSSH 7.0</a>, due to it being too weak. To re-enable support, add
<code class="docutils literal notranslate"><span class="pre">PubkeyAcceptedKeyTypes</span> <span class="pre">+ssh-dss</span></code> to the end of your
.</p>
<p>After updating the keys to be stronger, anyone still on a pre-17.03
version is safe to jump to 17.03, as vetted
<a class="reference external" href="https://search.nix.gsc.io/?q=stateVersion">here</a>.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">openssh</span></code> package now includes Kerberos support by
default; the <code class="docutils literal notranslate"><span class="pre">openssh_with_kerberos</span></code> package is now a
deprecated alias. If you do not want Kerberos support, you can do
<code class="docutils literal notranslate"><span class="pre">openssh.override</span> <span class="pre">{</span> <span class="pre">withKerberos</span> <span class="pre">=</span> <span class="pre">false;</span> <span class="pre">}</span></code>. Note, this
also applies to the <code class="docutils literal notranslate"><span class="pre">openssh_hpn</span></code> package.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">cc-wrapper</span></code> has been split in two; there is now also a
<code class="docutils literal notranslate"><span class="pre">bintools-wrapper</span></code>. The most commonly used files in
<code class="file docutils literal notranslate"><span class="pre">nix-support</span></code> are now split between the two wrappers.
Some commonly used ones, like
<code class="file docutils literal notranslate"><span class="pre">nix-support/dynamic-linker</span></code>, are duplicated for
backwards compatability, even though they rightly belong only in
<code class="docutils literal notranslate"><span class="pre">bintools-wrapper</span></code>. Other more obscure ones are just
moved.</p>
</li>
<li><p class="first">The propagation logic has been changed. The new logic, along with new
types of dependencies that go with, is thoroughly documented in the
“Specifying dependencies” section of the “Standard Environment” chapter of
the nixpkgs manual.</p>
<p>The old logic isn’t but is easy to describe: dependencies were propagated
as the same type of dependency no matter what. In practice, that means
that many <code class="docutils literal notranslate"><span class="pre">propagatedNativeBuildInputs</span></code> should instead
be <code class="docutils literal notranslate"><span class="pre">propagatedBuildInputs</span></code>. Thankfully, that was and is
the least used type of dependency. Also, it means that some
<code class="docutils literal notranslate"><span class="pre">propagatedBuildInputs</span></code> should instead be
<code class="docutils literal notranslate"><span class="pre">depsTargetTargetPropagated</span></code>. Other types dependencies
should be unaffected.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">lib.addPassthru</span> <span class="pre">drv</span> <span class="pre">passthru</span></code> is removed. Use
<code class="docutils literal notranslate"><span class="pre">lib.extendDerivation</span> <span class="pre">true</span> <span class="pre">passthru</span> <span class="pre">drv</span></code> instead.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">memcached</span></code> service no longer accept dynamic socket
paths via . Unix sockets can be
still enabled by and
will be accessible at <code class="docutils literal notranslate"><span class="pre">/run/memcached/memcached.sock</span></code>.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">hardware.amdHybridGraphics.disable</span></code> option was
removed for lack of a maintainer. If you still need this module, you may
wish to include a copy of it from an older version of nixos in your
imports.</p>
</li>
<li><p class="first">The merging of config options for
<code class="docutils literal notranslate"><span class="pre">services.postfix.config</span></code> was buggy. Previously, if other
options in the Postfix module like
<code class="docutils literal notranslate"><span class="pre">services.postfix.useSrs</span></code> were set and the user set
config options that were also set by such options, the resulting config
wouldn’t include all options that were needed. They are now merged
correctly. If config options need to be overridden,
<code class="docutils literal notranslate"><span class="pre">lib.mkForce</span></code> or <code class="docutils literal notranslate"><span class="pre">lib.mkOverride</span></code> can be
used.</p>
</li>
<li><p class="first">The following changes apply if the <code class="docutils literal notranslate"><span class="pre">stateVersion</span></code> is
changed to 18.03 or higher. For <code class="docutils literal notranslate"><span class="pre">stateVersion</span> <span class="pre">=</span> <span class="pre">&quot;17.09&quot;</span></code>
or lower the old behavior is preserved.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">matrix-synapse</span></code> uses postgresql by default instead of
sqlite. Migration instructions can be found
<a class="reference external" href="https://github.com/matrix-org/synapse/blob/master/docs/postgres.rst#porting-from-sqlite">here</a>.</li>
</ul>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">jid</span></code> package has been removed, due to maintenance
overhead of a go package having non-versioned dependencies.</p>
</li>
<li><p class="first">When using (enabled by default
in GNOME), it now handles all input devices, not just touchpads. As a
result, you might need to re-evaluate any custom Xorg configuration. In
particular, <code class="docutils literal notranslate"><span class="pre">Option</span> <span class="pre">&quot;XkbRules&quot;</span> <span class="pre">&quot;base&quot;</span></code> may result in
broken keyboard layout.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">attic</span></code> package was removed. A maintained fork called
<a class="reference external" href="https://www.borgbackup.org/">Borg</a> should be used
instead. Migration instructions can be found
<a class="reference external" href="http://borgbackup.readthedocs.io/en/stable/usage/upgrade.html#attic-and-borg-0-xx-to-borg-1-x">here</a>.</p>
</li>
<li><p class="first">The Piwik analytics software was renamed to Matomo:</p>
<ul class="simple">
<li>The package <code class="docutils literal notranslate"><span class="pre">pkgs.piwik</span></code> was renamed to
<code class="docutils literal notranslate"><span class="pre">pkgs.matomo</span></code>.</li>
<li>The service <code class="docutils literal notranslate"><span class="pre">services.piwik</span></code> was renamed to
<code class="docutils literal notranslate"><span class="pre">services.matomo</span></code>.</li>
<li>The data directory <code class="file docutils literal notranslate"><span class="pre">/var/lib/piwik</span></code> was renamed to
<code class="file docutils literal notranslate"><span class="pre">/var/lib/matomo</span></code>. All files will be moved
automatically on first startup, but you might need to adjust your
backup scripts.</li>
<li>The default for the nginx configuration
changed from <code class="docutils literal notranslate"><span class="pre">piwik.${config.networking.hostName}</span></code> to
<code class="docutils literal notranslate"><span class="pre">matomo.${config.networking.hostName}.${config.networking.domain}</span></code>
if is set,
<code class="docutils literal notranslate"><span class="pre">matomo.${config.networking.hostName}</span></code> if it is not
set. If you change your , remember you’ll
need to update the <code class="docutils literal notranslate"><span class="pre">trustedHosts[]</span></code> array in
<code class="file docutils literal notranslate"><span class="pre">/var/lib/matomo/config/config.ini.php</span></code> as well.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">piwik</span></code> user was renamed to
<code class="docutils literal notranslate"><span class="pre">matomo</span></code>. The service will adjust ownership
automatically for files in the data directory. If you use unix socket
authentication, remember to give the new <code class="docutils literal notranslate"><span class="pre">matomo</span></code> user
access to the database and to change the <code class="docutils literal notranslate"><span class="pre">username</span></code> to
<code class="docutils literal notranslate"><span class="pre">matomo</span></code> in the <code class="docutils literal notranslate"><span class="pre">[database]</span></code> section
of <code class="file docutils literal notranslate"><span class="pre">/var/lib/matomo/config/config.ini.php</span></code>.</li>
<li>If you named your database `piwik`, you might want to rename it to
`matomo` to keep things clean, but this is neither enforced nor
required.</li>
</ul>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">nodejs-4_x</span></code> is end-of-life.
<code class="docutils literal notranslate"><span class="pre">nodejs-4_x</span></code>, <code class="docutils literal notranslate"><span class="pre">nodejs-slim-4_x</span></code> and
<code class="docutils literal notranslate"><span class="pre">nodePackages_4_x</span></code> are removed.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">pump.io</span></code> NixOS module was removed. It is now
maintained as an
<a class="reference external" href="https://github.com/rvl/pump.io-nixos">external
module</a>.</p>
</li>
<li><p class="first">The Prosody XMPP server has received a major update. The following modules
were renamed:</p>
<ul class="simple">
<li>is now</li>
<li>is now</li>
</ul>
<p>Many new modules are now core modules, most notably
and
.</p>
<p>The better-performing <code class="docutils literal notranslate"><span class="pre">libevent</span></code> backend is now enabled
by default.</p>
<p><code class="docutils literal notranslate"><span class="pre">withCommunityModules</span></code> now passes through the modules to
. Use
<code class="docutils literal notranslate"><span class="pre">withOnlyInstalledCommunityModules</span></code> for modules that
should not be enabled directly, e.g <code class="docutils literal notranslate"><span class="pre">lib_ldap</span></code>.</p>
</li>
<li><p class="first">All prometheus exporter modules are now defined as submodules. The
exporters are configured using
<code class="docutils literal notranslate"><span class="pre">services.prometheus.exporters</span></code>.</p>
</li>
</ul>
</div>
<div class="section" id="other-notable-changes">
<span id="sec-release-18-03-notable-changes"></span><h1>Other Notable Changes<a class="headerlink" href="#other-notable-changes" title="Permalink to this headline">¶</a></h1>
<ul>
<li><p class="first">ZNC option now defaults to
<code class="docutils literal notranslate"><span class="pre">true</span></code>. That means that old configuration is not
overwritten by default when update to the znc options are made.</p>
</li>
<li><p class="first">The option
has been added for wireless networks with WPA-Enterprise authentication.
There is also a new option to directly
configure <code class="docutils literal notranslate"><span class="pre">wpa_supplicant</span></code> and to
connect to hidden networks.</p>
</li>
<li><p class="first">In the module the
following options have been removed:</p>
<ul class="simple">
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
<p>To assign static addresses to an interface the options
and should
be used instead. The options and
have been renamed to
respectively. The new options
and have been
added to set up static routing.</p>
</li>
<li><p class="first">The option is now
<code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code> by default. Previously the default behaviour
was to listen on all interfaces.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">services.btrfs.autoScrub</span></code> has been added, to
periodically check btrfs filesystems for data corruption. If there’s a
correct copy available, it will automatically repair corrupted blocks.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">displayManager.lightdm.greeters.gtk.clock-format.</span></code> has
been added, the clock format string (as expected by strftime, e.g.
<code class="docutils literal notranslate"><span class="pre">%H:%M</span></code>) to use with the lightdm gtk greeter panel.</p>
<p>If set to null the default clock format is used.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">displayManager.lightdm.greeters.gtk.indicators</span></code> has been
added, a list of allowed indicator modules to use with the lightdm gtk
greeter panel.</p>
<p>Built-in indicators include <code class="docutils literal notranslate"><span class="pre">~a11y</span></code>,
<code class="docutils literal notranslate"><span class="pre">~language</span></code>, <code class="docutils literal notranslate"><span class="pre">~session</span></code>,
<code class="docutils literal notranslate"><span class="pre">~power</span></code>, <code class="docutils literal notranslate"><span class="pre">~clock</span></code>,
<code class="docutils literal notranslate"><span class="pre">~host</span></code>, <code class="docutils literal notranslate"><span class="pre">~spacer</span></code>. Unity indicators can
be represented by short name (e.g. <code class="docutils literal notranslate"><span class="pre">sound</span></code>,
<code class="docutils literal notranslate"><span class="pre">power</span></code>), service file name, or absolute path.</p>
<p>If set to <code class="docutils literal notranslate"><span class="pre">null</span></code> the default indicators are used.</p>
<p>In order to have the previous default configuration add</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">services</span><span class="o">.</span><span class="n">xserver</span><span class="o">.</span><span class="n">displayManager</span><span class="o">.</span><span class="n">lightdm</span><span class="o">.</span><span class="n">greeters</span><span class="o">.</span><span class="n">gtk</span><span class="o">.</span><span class="n">indicators</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">&quot;~host&quot;</span> <span class="s2">&quot;~spacer&quot;</span>
  <span class="s2">&quot;~clock&quot;</span> <span class="s2">&quot;~spacer&quot;</span>
  <span class="s2">&quot;~session&quot;</span>
  <span class="s2">&quot;~language&quot;</span>
  <span class="s2">&quot;~a11y&quot;</span>
  <span class="s2">&quot;~power&quot;</span>
<span class="p">];</span>
</pre></div>
</div>
<p>to your <code class="docutils literal notranslate"><span class="pre">configuration.nix</span></code>.</p>
</li>
<li><p class="first">The NixOS test driver supports user services declared by
<code class="docutils literal notranslate"><span class="pre">systemd.user.services</span></code>. The methods
<code class="docutils literal notranslate"><span class="pre">waitForUnit</span></code>, <code class="docutils literal notranslate"><span class="pre">getUnitInfo</span></code>,
<code class="docutils literal notranslate"><span class="pre">startJob</span></code> and <code class="docutils literal notranslate"><span class="pre">stopJob</span></code> provide an
optional <code class="docutils literal notranslate"><span class="pre">$user</span></code> argument for that purpose.</p>
</li>
<li><p class="first">Enabling bash completion on NixOS,
<code class="docutils literal notranslate"><span class="pre">programs.bash.enableCompletion</span></code>, will now also enable
completion for the Nix command line tools by installing the
<a class="reference external" href="https://github.com/hedning/nix-bash-completions">nix-bash-completions</a>
package.</p>
</li>
</ul>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">NixOS Manual</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../preface.xml.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation.xml.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/configuration.xml.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration/running.xml.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/development.xml.html">Development</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../generated/options-db.xml.html">Configuration Options</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;1970, lewo.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/release-notes/rl-1803.xml.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>